{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Register</title>
    <!-- Link to the custom stylesheet for styling the register page -->
    <link rel="stylesheet" type="text/css" href="{% static 'frontend/register.css' %}">
</head>
<body>
    <!-- Container for the registration form -->
    <div class="form-container">
        <h2>
            <!-- Spotify logo at the top of the form -->
            <img src="{% static 'images/Primary_Logo_Green_RGB.svg' %}" alt="Spotify Logo" class="logo">
            Register
        </h2>
        <button id="theme-toggle" style="margin: 10px;">Toggle Dark Mode</button>
        <!-- Display errors, if any -->
        {% if errors %}
            <div class="error-container">
                <ul>
                    {% for error in errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            </div>
        {% endif %}

        <!-- Registration form -->
        <form method="post">
            {% csrf_token %}

            <!-- Username field -->
            <div class="form-field">
                <label for="id_username">Enter your desired username:</label><br>
                {{ form.username }} <!-- Django form field for username -->
                <p class="input-note">Required. 150 characters or fewer. Letters, digits, and @/./+/-/_ only.</p>
            </div>

            <!-- Password field -->
            <div class="form-field">
                <label for="id_password1">Choose a password:</label><br>
                {{ form.password1 }} <!-- Django form field for password -->
                <ul class="input-note">
                    <li>Your password can't be too similar to your other personal information.</li>
                    <li>Your password must contain at least 8 characters.</li>
                    <li>Your password can't be a commonly used password.</li>
                    <li>Your password can't be entirely numeric.</li>
                </ul>
            </div>

            <!-- Confirm Password field -->
            <div class="form-field">
                <label for="id_password2">Confirm your password:</label><br>
                {{ form.password2 }} <!-- Django form field for password confirmation -->
                <p class="input-note">Enter the same password as before, for verification.</p>
            </div>

            <!-- Checkbox for Spotify account confirmation -->
            <div class="form-field">
                <label for="has_spotify_account">
                    <input type="checkbox" name="has_spotify_account" required>
                    I confirm that I have an active Spotify account to link.
                </label>
            </div>

            <!-- Submit button -->
            <div class="form-field">
                <button type="submit">Register</button>
            </div>
        </form>

        <!-- Link to the login page for existing users -->
        <p>Already have an account? <a href="{% url 'frontend:login' %}">Login here</a>.</p>
    </div>

    <!-- Footer with developer contact details -->
    <footer>
        <p>Developers:
            <a href="mailto:akshayaminnasa@gmail.com">Akshaya Arun</a>,
            <a href="mailto:dylankimwang@gmail.com">Dylan Wang</a>,
            <a href="mailto:akshajevuru@gmail.com">Akshaj Evuru</a>,
            <a href="mailto:rohit.vivek.ramaswamy@gmail.com">Rohit Vivek</a>,
            <a href="mailto:arnav0829@gmail.com">Arnav Mohnalkar</a>
        </p>
    </footer>
    <script>
        const toggleButton = document.getElementById('theme-toggle');
        const body = document.body;

        // Set initial button text
        toggleButton.textContent = body.classList.contains('dark-mode') ? 'Toggle Dark Mode' : 'Toggle Light Mode';

        toggleButton.addEventListener('click', () => {
            body.classList.toggle('dark-mode');

            // Update button text based on the current mode
            toggleButton.textContent = body.classList.contains('dark-mode') ? 'Toggle Dark Mode' : 'Toggle Light Mode';
        });
    </script>
</body>
</html>
